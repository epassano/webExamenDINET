CREATE PROCEDURE USP_LISTAR_MOVIMIENTO
(
@fechaInicio  VARCHAR(50)=null,
@fechaFin  VARCHAR(50)=null,
@tipoMovimiento VARCHAR(50)=null,
@nroDocumento VARCHAR(50)=null
)
AS
SELECT COD_CIA,COMPANIA_VENTA_3,ALMACEN_VENTA,TIPO_MOVIMIENTO,TIPO_DOCUMENTO,NRO_DOCUMENTO,FECHA_TRANSACCION FROM MOV_INVENTARIO
WHERE
CONVERT(DATETIME,FECHA_TRANSACCION,103)BETWEEN CONVERT(DATETIME,@fechaInicio,103) AND CONVERT(DATETIME,@fechaFin,103) AND
TIPO_MOVIMIENTO= CASE WHEN @tipoMovimiento is null then TIPO_MOVIMIENTO else @tipoMovimiento end AND
NRO_DOCUMENTO= CASE WHEN @nroDocumento is null then NRO_DOCUMENTO else @nroDocumento end 